<template name="menuComponent">
  <div class="menu-component {{menuClass}} js-menu-container">

    {{#if showMenuLabel}}
      <div class="menu-label-wrapper">
        {{#if menuLabelTemplate}}
          {{> Template.dynamic template=menuLabelTemplate data=menuLabelData}}
        {{else}}
          {{> defaultMenuLabel}}
        {{/if}}
      </div>
    {{/if}}

    {{#with rootMenuItems}}
      <ul class="menu-items js-menu-items" role="menu" aria-labelledby="dLabel">
        {{#each this}}
          {{> menuItem}}
        {{/each}}
      </ul>
    {{/with}}

  </div>

</template>

<template name="defaultMenuLabel">
  <a class="menu-label js-menu-toggle" href="#">
    <span class="menu-label-text">{{{getMenuLabel}}}</span>
    <span class="menu-items-toggle">
      {{> menuIconExpand}}
      {{> menuIconCollapse}}
    </span>
  </a>
</template>

<template name="menuItem">
  <li class="menu-item {{itemClass}} js-menu-container">
  
    <div class="menu-item-label-wrapper">
      {{#if getTemplate}}
        {{> Template.dynamic template=getTemplate}}
      {{else}}
        {{> defaultMenuItem}}
      {{/if}}
    </div>

    {{#with childMenuItems}}
      <ul class="menu-child-items js-menu-items">
        {{#each this}}
          {{> menuItem}}
        {{/each}}
      </ul>
    {{/with}}

  </li>
</template>

<template name="defaultMenuItem">
  <a class="menu-item-label" href="{{itemRoute}}">
    <span class="menu-item-label-text">{{{getItemLabel}}}</span>
    {{#if description}}<span class="menu-item-description">{{getItemDescription}}</span>{{/if}}
  </a>

  {{#if childMenuItems}}
    <a class="menu-items-toggle js-menu-toggle" href="#">
      <span class="menu-icon-expand">{{> menuIconExpand}}</span>
      <span class="menu-icon-collapse">{{> menuIconCollapse}}</span>
    </a>
  {{/if}}

</template>

<template name="menuIconExpand">
  <span class="menu-icon menu-icon-expand">
    <svg class="icon icon-angle-right"><use xlink:href="#icon-angle-right"></use></svg>
    <symbol id="icon-angle-right" viewBox="0 0 366 1024">
      <title>angle-right</title>
      <path class="path1" d="M340 548.571q0 7.429-5.714 13.143l-266.286 266.286q-5.714 5.714-13.143 5.714t-13.143-5.714l-28.571-28.571q-5.714-5.714-5.714-13.143t5.714-13.143l224.571-224.571-224.571-224.571q-5.714-5.714-5.714-13.143t5.714-13.143l28.571-28.571q5.714-5.714 13.143-5.714t13.143 5.714l266.286 266.286q5.714 5.714 5.714 13.143z"></path>
    </symbol>
  </span>
</template>

<template name="menuIconCollapse">
  <span class="menu-icon menu-icon-collapse">
    <svg class="icon icon-angle-down"><use xlink:href="#icon-angle-down"></use></svg>
    <symbol id="icon-angle-down" viewBox="0 0 658 1024">
      <title>angle-down</title>
      <path class="path1" d="M614.286 420.571q0 7.429-5.714 13.143l-266.286 266.286q-5.714 5.714-13.143 5.714t-13.143-5.714l-266.286-266.286q-5.714-5.714-5.714-13.143t5.714-13.143l28.571-28.571q5.714-5.714 13.143-5.714t13.143 5.714l224.571 224.571 224.571-224.571q5.714-5.714 13.143-5.714t13.143 5.714l28.571 28.571q5.714 5.714 5.714 13.143z"></path>
    </symbol>
  </span>
</template>